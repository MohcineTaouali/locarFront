<app-headerTwo></app-headerTwo>
<app-title-listing-cars></app-title-listing-cars>
<app-breadcrumb></app-breadcrumb>

<div class="l-main-content">
    <div class="container">
      <div class="row">
        <div class="col-xl-3">
          <aside class="l-sidebar">
            <div class="widget section-sidebar bg-gray">
              <h3 class="widget-title bg-dark row justify-content-between align-items-center no-gutters"><i class="ic flaticon-porsche bg-primary col-auto"></i><span class="widget-title__inner col">Search Filters</span></h3>
              <div class="widget-content">
                <div class="widget-inner">
                  <form [formGroup]="formFiltreCars" class="b-filter">
                    <div class="b-filter__main">
                      <!--   ****** marque filtre ***********  -->
                      <div class="b-filter__row">
                        <div class="form-group">
                          <select class="form-control" id="marqueCar" formControlName="marque" [(ngModel)]="marqueSelected">
                            <option value="" disabled selected>marque</option>
                            <option *ngFor="let marque of marques" [value]="marque.value">{{marque.value}}</option>
                          </select>
                       </div>
                      </div>
                        <!--   ****** model filtre ***********  -->
                      <div class="b-filter__row">
                        <div class="form-group">
                          <select class="form-control" id="maodelCar" formControlName="model">
                            <option value="" disabled selected>model</option>
                            <option *ngFor="let model of models" [value]="model.value">{{model.value}}</option>
                          </select>
                        </div>
                      </div>
                      <!--   ****** transmission filtre ***********  -->
                      <div class="b-filter__row">
                        <div class="form-group">
                          <select class="form-control" id="transmissionCar" formControlName="transmission">
                            <option value="" disabled selected>transmission</option>
                            <option *ngFor="let trans of transmissions" [value]="trans.code">{{trans.value}}</option>
                          </select>
                        </div>
                      </div>
                      <!--   ****** clim filtre ***********  -->
                      <div class="b-filter__row">
                        <div class="form-group">
                          <select class="form-control" id="clim" formControlName="clim">
                            <option value="" disabled selected>Clim</option>
                            <option *ngFor="let cl of clim" [value]="cl.code">{{cl.value}}</option>
                          </select>
                        </div>
                      </div>
                    </div>
                    <button class="b-filter__reset btn btn-default btn-lg w-100" (click)="getDispoCar()">Apply filters</button>
                  </form>
                </div>
              </div>
            </div>
            <!-- end .b-filter-->
            
          </aside>
        </div>
        <div class="col-xl-9">
          <div class="b-filter-goods">
            <div class="row align-items-center no-gutters justify-content-between">
              <div class="b-filter-goods__wrap col-sm-auto">
                <div class="b-filter-goods__select">
                  <div class="dropdown bootstrap-select show-tick" style="width: 170px;"><select class="selectpicker" data-width="170px" title="Newest First" multiple="multiple" data-max-options="1" data-style="ui-select ui-select_sm" tabindex="-98">
                    <option>A-Z</option>
                    <option>Z-A</option>
                  </select><button type="button" class="btn dropdown-toggle bs-placeholder ui-select ui-select_sm" data-toggle="dropdown" role="button" title="Newest First"><div class="filter-option"><div class="filter-option-inner"><div class="filter-option-inner-inner">Newest First</div></div> </div></button><div class="dropdown-menu " role="combobox"><div class="inner show" role="listbox" aria-expanded="false" tabindex="-1"><ul class="dropdown-menu inner show"></ul></div></div></div>
                </div>
                <div class="b-filter-goods__select">
                  <div class="dropdown bootstrap-select show-tick" style="width: 142px;"><select class="selectpicker" data-width="142px" multiple="multiple" data-max-options="1" data-style="ui-select ui-select_sm" tabindex="-98">
                    <option>10 Items</option>
                    <option selected="selected">15 Items</option>
                    <option>20 Items</option>
                  </select><button type="button" class="btn dropdown-toggle ui-select ui-select_sm" data-toggle="dropdown" role="button" title="15 Items"><div class="filter-option"><div class="filter-option-inner"><div class="filter-option-inner-inner">15 Items</div></div> </div></button><div class="dropdown-menu " role="combobox"><div class="inner show" role="listbox" aria-expanded="false" tabindex="-1"><ul class="dropdown-menu inner show"></ul></div></div></div>
                </div>
                <button class="b-filter-goods__btn btn" type="button">Compare<span class="badge bg-primary">2</span></button>
              </div>
              <div class="btns-switch col-auto">
                  <a href="inventory-listings.html"><i class="btns-switch__item js-view-list  ic fa fa-th-list"></i></a>
                  <a href="inventory-grid.html"><i class="btns-switch__item js-view-th active  ic fa fa-th"></i></a>
                </div>
            </div>
            <div class="b-filter-goods__info">Showing results 1 to 10 of total 145</div>
          </div>
          <!-- end .b-filter-goods-->
          
          <div class="section-goods">
            <div id="page-preloader" *ngIf="loadingSpinner"><span class="spinner border-t_second_b border-t_prim_a"></span></div>
            <div class="b-goods-group row">
              <div class="col-lg-4 col-md-6" *ngFor="let car of ListCars | paginate: { itemsPerPage: 10, currentPage: p }; let i=index">
                <div class="b-goods b-goods_back_sm" [class.flip-active]="selectedItem == i">
                  <button class="flip-btn" (click)="selectedItem=i"><span></span><span class="flip-btn-mdl"></span><span></span></button>
                  <div class="flip-container">
                    <div class="flipper">
                      <div class="flip__front">
                        <div class="b-goods__img" *ngFor="let img of car.imageVs; let i = index; let first = first ;"><img class="img-scale" *ngIf="first" src="http://127.0.0.1:8000/uploads/{{ img.name }}" alt="photo"></div>
                        <div class="b-goods__inner">
                          <div class="b-goods__header">
                            <div class="b-goods__name">{{ car.name }} </div>
                            <ul class="ui-rating list-unstyled">
                              <li class="active"><i class="fas fa-star"></i></li>
                              <li class="active"><i class="fas fa-star"></i></li>
                              <li class="active"><i class="fas fa-star"></i></li>
                              <li class="active"><i class="fas fa-star"></i></li>
                              <li><i class="fas fa-star"></i></li>
                            </ul>
                            <div class="b-goods__check"><img class="img-fluid" src="assets/media/content/b-goods/check.jpg" alt="AutoCheck"></div>
                          </div>
                          <div class="b-goods__info">Velit esse cillum dolore eu fugiat nulla pariatur excepteur sint occaecat cupidatat non proident sunt in culpa qui officia deserunt.</div>
                          <div class="b-goods__footer">
                            <div class="b-goods__main-descr"><i class="ic flaticon-speedometer"></i>53,000 mi</div>
                            <div class="b-goods__price">
                              <div class="b-goods__price-main bg-primary">{{ car.price }} Dh</div>
                              <div class="b-goods__price-msrp">MSRP: $35,480</div>
                            </div>
                            <ul class="b-goods-descr list-unstyled">
                              <li class="b-goods-descr__item b-goods-descr__item_main"><i class="ic flaticon-speedometer"></i>53,000 mi</li>
                              <li class="b-goods-descr__item"><i class="fas fa-light fa-user mr-1"></i>{{ car.nbrPassager }}</li>
                              <li class="b-goods-descr__item"><i class="fas fa-solid fa-suitcase-rolling mr-1"></i>{{ car.nbrBagages }}</li>
                              <li class="b-goods-descr__item"><i class="fas fa-solid fa-door-open"></i>{{ car.nbrDoor }}</li>
                              <li class="b-goods-descr__item" *ngIf="car.transmission==true"><i class="fas fa-light fa-snowflake"></i>A/C</li>
                            </ul>
                            <button class="b-goods__link text-primary" type="button">Compare</button>
                          </div>
                        </div>
                      </div>
                      <div class="flip__back">
                        <div class="b-goods__header">
                          <div class="b-goods__name">Audi a7 2019</div>
                          <div class="b-goods__category">Classic SUV</div>
                          <div class="flip-btn-hide" (click)="selectedItem=-1"></div>
                        </div>
                        <div class="b-goods-info">
                          <div class="b-goods-info__item row no-gutters justify-content-between"><span class="b-goods-info__title col-auto">Cruise Control Option</span><span class="b-goods-info__desc col-auto">Standard</span></div>
                          <div class="b-goods-info__item row no-gutters justify-content-between"><span class="b-goods-info__title col-auto">Transmission</span><span class="b-goods-info__desc col-auto">Automatic</span></div>
                          <div class="b-goods-info__item row no-gutters justify-content-between"><span class="b-goods-info__title col-auto">Mileage</span><span class="b-goods-info__desc col-auto">48,000 km</span></div>
                          <div class="b-goods-info__item row no-gutters justify-content-between"><span class="b-goods-info__title col-auto">Engine / Fuel Capacity</span><span class="b-goods-info__desc col-auto">V8 2.5L / 8 Gal</span></div>
                          <div class="b-goods-info__item row no-gutters justify-content-between"><span class="b-goods-info__title col-auto">Vehicle Layout</span><span class="b-goods-info__desc col-auto">5 Pass, 4-Door Hatch</span></div>
                        </div>
                        <div class="flip__footer">
                          <button class="btn btn-primary btn-lg w-100" routerLink="reservation/{{car.id}}">Read More</button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <!-- end .b-goods-->
                
              </div>
              <p *ngIf="(ListCars | json) == '{}'"> 0 voitures disponible pour cette periode </p>
            </div>
            <pagination-controls class="text-center" (pageChange)="p = $event"></pagination-controls>
          <!--  <nav class="mt-3" aria-label="Page navigation example">
              <ul class="pagination justify-content-center">
                <li class="page-item"><a class="page-link" href="#"><i class="fas fa-chevron-left"></i></a></li>
                <li class="page-item"><a class="page-link" href="#">1</a></li>
                <li class="page-item active"><a class="page-link" href="#">2</a></li>
                <li class="page-item"><a class="page-link" href="#">3</a></li>
                <li class="page-item"><a class="page-link" href="#"><i class="fas fa-chevron-right"></i></a></li>
              </ul>
            </nav> -->
          </div>
        </div>
      </div>
    </div>
</div>

<app-footer></app-footer>